include_rules
modname = acpi
#
# Makefile for the Linux ACPI interpreter
#

ccflags-y			:= -Os
ccflags-@(ACPI_DEBUG)	+= -DACPI_DEBUG_OUTPUT

#
# ACPI Boot-Time Table Parsing
#
acpi-y				+= tables.c
acpi-@(X86)		+= blacklist.c


# All the builtin files are in the "acpi." module_param namespace.
acpi-y				+= osl.c utils.c reboot.c

# sleep related files
acpi-y				+= wakeup.c
acpi-y				+= sleep.c
acpi-@(ACPI_SLEEP)	+= proc.c


#
# ACPI Bus and Device Drivers
#
acpi-y				+= bus.c glue.c
acpi-y				+= scan.c
acpi-y				+= ec.c
acpi-@(ACPI_DOCK)	+= dock.c
acpi-y				+= pci_root.c pci_link.c pci_irq.c pci_bind.c
acpi-y				+= power.c
acpi-y				+= system.c event.c
acpi-@(ACPI_DEBUG)	+= debug.c
acpi-@(ACPI_NUMA)	+= numa.c
acpi-@(ACPI_PROCFS_POWER) += cm_sbs.c
# TODO: ifdef?
#ifdef CONFIG_ACPI_VIDEO
acpi-@(ACPI_VIDEO) += video_detect.c

# These are (potentially) separate modules
acpi-@(ACPI_AC) 		+= ac.c
acpi-@(ACPI_BUTTON)	+= button.c
acpi-@(ACPI_FAN)		+= fan.c
acpi-@(ACPI_VIDEO)	+= video.c
acpi-@(ACPI_PCI_SLOT)	+= pci_slot.c
acpi-@(ACPI_PROCESSOR)	+= processor.c
acpi-@(ACPI_CONTAINER)	+= container.c
acpi-@(ACPI_THERMAL)	+= thermal.c
acpi-@(ACPI_HOTPLUG_MEMORY) += acpi_memhotplug.c
acpi-@(ACPI_BATTERY)	+= battery.c
acpi-@(ACPI_SBS)		+= sbshc.c
acpi-@(ACPI_SBS)		+= sbs.c
acpi-@(ACPI_POWER_METER)	+= power_meter.c

# processor has its own "processor." module_param namespace
processor-y			:= processor_core.c processor_throttling.c
processor-y			+= processor_idle.c processor_thermal.c
processor-@(CPU_FREQ)	+= processor_perflib.c
obj-@(ACPI) += $(acpi-y)
# TODO: link-y acpica
include $(LINUX_ROOT)/linux.tup
